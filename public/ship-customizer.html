<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ship Customization - Traveller Combat VTT</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="ship-customizer.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ”§ Ship Customization</h1>
      <div class="stage">STAGE 12: SHIP CUSTOMIZATION SYSTEM</div>
      <button id="back-to-menu" class="action-button" style="margin-top: 10px;">â† Back to Main Menu</button>
    </div>

    <div class="customizer-layout">
      <!-- Left Sidebar: Ship Template Selector -->
      <div class="ship-selector-sidebar card">
        <h3>ğŸ“‹ Ship Templates</h3>
        <div class="template-list">
          <div class="template-option active" data-template="scout">
            <div class="template-name">âš¡ Scout</div>
            <div class="template-details">100t â€¢ 1 Turret</div>
          </div>
          <div class="template-option" data-template="free_trader">
            <div class="template-name">ğŸ“¦ Free Trader</div>
            <div class="template-details">200t â€¢ 2 Turrets</div>
          </div>
          <div class="template-option" data-template="far_trader">
            <div class="template-name">ğŸš¢ Far Trader</div>
            <div class="template-details">200t â€¢ 2 Turrets</div>
          </div>
          <div class="template-option" data-template="patrol_corvette">
            <div class="template-name">âš”ï¸ Patrol Corvette</div>
            <div class="template-details">400t â€¢ 4 Turrets</div>
          </div>
          <div class="template-option" data-template="mercenary_cruiser">
            <div class="template-name">ğŸ’€ Mercenary Cruiser</div>
            <div class="template-details">800t â€¢ 8 Turrets</div>
          </div>
          <div class="template-option" data-template="subsidised_liner">
            <div class="template-name">âœˆï¸ Subsidised Liner</div>
            <div class="template-details">600t â€¢ 6 Turrets</div>
          </div>
          <div class="template-option" data-template="safari_ship">
            <div class="template-name">ğŸ¦ Safari Ship</div>
            <div class="template-details">200t â€¢ 2 Turrets</div>
          </div>
          <div class="template-option" data-template="seeker">
            <div class="template-name">â›ï¸ Seeker</div>
            <div class="template-details">100t â€¢ 1 Turret</div>
          </div>
          <div class="template-option" data-template="laboratory_ship">
            <div class="template-name">ğŸ”¬ Laboratory Ship</div>
            <div class="template-details">400t â€¢ 2 Turrets</div>
          </div>
        </div>
      </div>

      <!-- Center: Ship Schematic -->
      <div class="ship-schematic-container card">
        <h3 id="ship-schematic-title">Scout (Type-S Scout/Courier)</h3>
        <div id="ship-schematic-display">
          <!-- SVG will be injected here by JavaScript -->
        </div>
        <div class="schematic-hint">
          ğŸ’¡ Click on any component to customize it
        </div>
      </div>

      <!-- Right Sidebar: Component Customization Panel -->
      <div class="component-panel-sidebar card">
        <h3>âš™ï¸ Component Editor</h3>
        <div id="component-panel-content">
          <div class="panel-placeholder">
            <p style="text-align: center; color: #888; margin: 20px;">
              Click a component on the ship schematic to customize it
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Bar: Cost Summary & Save -->
    <div class="card" style="margin-top: 20px;">
      <div class="cost-summary-bar">
        <div class="cost-item">
          <span class="cost-label">Base Cost:</span>
          <span class="cost-value" id="base-cost">MCr 37.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Modifications:</span>
          <span class="cost-value" id="mod-cost">+ MCr 0.00</span>
        </div>
        <div class="cost-item total">
          <span class="cost-label">Total Cost:</span>
          <span class="cost-value" id="total-cost">MCr 37.00</span>
        </div>
        <div class="save-controls">
          <input type="text" id="ship-name" placeholder="Enter ship name..." maxlength="50" />
          <button id="save-ship-button" class="action-button primary">ğŸ’¾ Save Ship</button>
        </div>
      </div>
    </div>

    <!-- Version Display -->
    <div style="text-align: center; margin-top: 20px; padding: 15px; font-size: 0.85em; color: #888; border-top: 1px solid #333;">
      <div style="margin-bottom: 5px;">Traveller Combat VTT</div>
      <div><strong>Version 0.12 (WIP)</strong> - Stage 12: Ship Customization</div>
    </div>
  </div>

  <script src="/lib/ship-costs.js"></script>
  <script src="/lib/ship-customization.js"></script>
  <script src="ship-customizer.js"></script>
</body>
</html>
